<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 1.0.0">
<meta name="crystal_docs.project_version" content="main">
<meta name="crystal_docs.project_name" content="alias_method">



<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

  <meta name="repository-name" content="alias_method">
  <title>Top Level Namespace - alias_method main</title>
  <script type="text/javascript">
    CrystalDocs.base_path = "";
  </script>
</head>
<body>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>
<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="index.html">
          alias_method
        </a>
      </h1>

      <span class="project-version">
        main
      </span>
    </div>
  </div>

  <div class="search-results hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" current" data-id="alias_method/toplevel" data-name="top level namespace">
      <a href="toplevel.html">Top Level Namespace</a>
      
    </li>
  
  <li class=" " data-id="alias_method/AliasMethod" data-name="aliasmethod">
      <a href="AliasMethod.html">AliasMethod</a>
      
    </li>
  
  <li class=" " data-id="alias_method/NoMethodError" data-name="nomethoderror">
      <a href="NoMethodError.html">NoMethodError</a>
      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  Top Level Namespace

</h1>


















  <h2>
    <a id="defined-in" class="anchor" href="#defined-in">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Defined in:
  </h2>
  











  <h2>
    <a id="macro-summary" class="anchor" href="#macro-summary">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Macro Summary
  </h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#alias_method(to,from,yield_arity=0)-macro" class="signature"><strong>alias_method</strong>(to, from, yield_arity = <span class="n">0</span>)</a>
        
          <div class="summary"><p>The <code><a href="toplevel.html#alias_method(to,from,yield_arity=0)-macro">alias_method(to, from, yield_arity)</a></code> macro is used to create method aliases.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#remove_method(from)-macro" class="signature"><strong>remove_method</strong>(from)</a>
        
          <div class="summary"><p>This macro removes a method.</p></div>
        
      </li>
    
  </ul>



<div class="methods-inherited">
  
</div>








  <h2>
    <a id="macro-detail" class="anchor" href="#macro-detail">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>
    Macro Detail
  </h2>
  
    <div class="entry-detail" id="alias_method(to,from,yield_arity=0)-macro">
      <div class="signature">
        
        macro <strong>alias_method</strong>(to, from, yield_arity = <span class="n">0</span>)

        <a class="method-permalink" href="#alias_method(to,from,yield_arity=0)-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>The <code><a href="toplevel.html#alias_method(to,from,yield_arity=0)-macro">alias_method(to, from, yield_arity)</a></code> macro is used to create method
aliases. For most usage, only the <code>to</code> and the <code>from</code> arguments are
required. The <code>yield_arity</code> argument is optional, only applies when
aliasing a method that yields, and defaults to <code>0</code>.</p>

<p>When a method contains a <code>yield</code> statement, that method accepts a block.
However, because the block is not captured, the macro does not know what
the expected call signature of the block is. So, when it constructs the
block forwarding code, it has no way of knowing how many arguments the
code expects the block to have. So, when aliasing methods that yield, one
must provide that arity information to the macro if the arity is anything
other than zero.</p>

<pre><code class="language-crystal"><span class="k">class</span> <span class="t">MyClass</span>
  <span class="k">def</span> <span class="m">self</span>.add(x, y)
    x <span class="o">+</span> y
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">with</span>(arg)
    <span class="k">yield</span> arg
  <span class="k">end</span>

  <span class="c"># Spanish translations of the method names:</span>
  alias_method <span class="s">&quot;suma&quot;</span>, <span class="s">&quot;self.add&quot;</span>, <span class="n">1</span>
  alias_method <span class="s">&quot;con&quot;</span>, <span class="s">&quot;with&quot;</span>
<span class="k">end</span>

foo <span class="o">=</span> <span class="t">Foo</span>.<span class="k">new</span>

puts <span class="t">Foo</span>.suma(<span class="n">123</span>, <span class="n">456</span>)
puts(foo.con(<span class="n">7</span>) <span class="k">do</span> <span class="o">|</span>x<span class="o">|</span>
  x <span class="o">**</span> x
<span class="k">end</span>)</code></pre>

<p>The macro will not throw any errors if the method being aliased can not be
found.</p>

<pre><code class="language-crystal"><span class="k">class</span> <span class="t">MyClass</span>
  alias_method <span class="s">&quot;nada&quot;</span>, <span class="s">&quot;nothing&quot;</span>
<span class="k">end</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/wyhaines/alias_method.cr/blob/fbfa2fc56cdfe04636959eaa10c0eea905d67617/src/alias_method.cr#L54" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="remove_method(from)-macro">
      <div class="signature">
        
        macro <strong>remove_method</strong>(from)

        <a class="method-permalink" href="#remove_method(from)-macro">#</a>
      </div>
      
        <div class="doc">
          
          <p>This macro removes a method. It is not possible to actually undefined
a method in Crystal, so this macro redefines the method to return, at
runtime, a NoMethodError exception.</p>

<p>Method removal works on both class methods and instance methods.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/wyhaines/alias_method.cr/blob/fbfa2fc56cdfe04636959eaa10c0eea905d67617/src/alias_method.cr#L315" target="_blank">View source</a>]
        
      </div>
    </div>
  


</div>

</body>
</html>
